<!DOCTYPE html>
<html lang="id" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dramabox API - Documentation</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        .rotate-90 {
            transform: rotate(90deg);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Modern Input Styling */
        .input-modern {
            background: rgba(30, 30, 30, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 16px 12px 44px;
            color: white;
            font-size: 14px;
            width: 100%;
            transition: all 0.2s ease;
            outline: none;
        }

        .input-modern:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }

        .input-modern::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .input-wrapper {
            position: relative;
        }

        .input-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.4);
            font-size: 14px;
        }

        /* Card Styling */
        .endpoint-card {
            background: linear-gradient(145deg, rgba(25, 25, 25, 0.9), rgba(15, 15, 15, 0.95));
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .endpoint-card:hover {
            border-color: rgba(255, 255, 255, 0.12);
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
        }

        /* Method Badge */
        .method-badge {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .method-get {
            background: rgba(59, 130, 246, 0.15);
            color: #60a5fa;
        }

        .method-post {
            background: rgba(34, 197, 94, 0.15);
            color: #4ade80;
        }

        .method-special {
            background: rgba(249, 115, 22, 0.15);
            color: #fb923c;
        }

        /* Button Styling */
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 13px;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s ease;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #22c55e, #16a34a);
        }

        .btn-success:hover {
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #000;
        }

        .btn-warning:hover {
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .btn-danger:hover {
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
        }

        /* JSON Syntax */
        .json-key {
            color: #93c5fd;
        }

        .json-string {
            color: #fbbf24;
        }

        .json-number {
            color: #4ade80;
        }

        .json-boolean {
            color: #f472b6;
        }

        .json-null {
            color: #a78bfa;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        /* Glassmorphism Header */
        .glass-header {
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }
    </style>
</head>

<body class="bg-[#0a0a0a] text-white min-h-screen antialiased">
    <!-- Header -->
    <nav class="glass-header sticky top-0 z-50 border-b border-white/5">
        <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div
                    class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
                    <i class="fa-solid fa-play text-white text-sm"></i>
                </div>
                <div>
                    <h1 class="text-lg font-bold">Dramabox API</h1>
                    <p class="text-xs text-gray-500">REST API Documentation</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div id="baseUrlBox"
                    class="hidden sm:flex items-center gap-2 px-4 py-2 rounded-full bg-green-500/10 border border-green-500/20">
                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                    <code id="baseUrlDisplay" class="text-xs text-green-400 font-mono"></code>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="max-w-6xl mx-auto px-6 py-12">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold mb-3">API Documentation</h2>
            <p class="text-gray-400 max-w-xl mx-auto">
                Akses konten Dramabox dengan mudah. Klik endpoint untuk melihat detail dan melakukan live test.
            </p>
        </div>

        <!-- Quick Stats -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
            <div class="bg-white/5 rounded-2xl p-5 text-center border border-white/5">
                <div class="text-2xl font-bold text-blue-400">10</div>
                <div class="text-xs text-gray-500 mt-1">Endpoints</div>
            </div>
            <div class="bg-white/5 rounded-2xl p-5 text-center border border-white/5">
                <div class="text-2xl font-bold text-green-400">REST</div>
                <div class="text-xs text-gray-500 mt-1">API Type</div>
            </div>
            <div class="bg-white/5 rounded-2xl p-5 text-center border border-white/5">
                <div class="text-2xl font-bold text-purple-400">JSON</div>
                <div class="text-xs text-gray-500 mt-1">Response</div>
            </div>
            <div class="bg-white/5 rounded-2xl p-5 text-center border border-white/5">
                <div class="text-2xl font-bold text-yellow-400">v1.2</div>
                <div class="text-xs text-gray-500 mt-1">Version</div>
            </div>
        </div>

        <!-- Endpoints Grid -->
        <div class="space-y-4">

            <!-- Search -->
            <div class="endpoint-card">
                <div class="p-5 flex items-center justify-between cursor-pointer" onclick="toggleAccordion('search')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-magnifying-glass text-blue-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge method-get">GET</span>
                                <h3 class="font-semibold">Cari Drama</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/search</code>
                        </div>
                    </div>
                    <i id="arrow-search"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-search" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mencari drama berdasarkan kata kunci.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-search"></i>
                            <input type="text" id="input-search-keyword" value="ceo" placeholder="Masukkan keyword..."
                                class="input-modern">
                        </div>
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-file"></i>
                            <input type="number" id="input-search-page" value="1" placeholder="Halaman"
                                class="input-modern">
                        </div>
                    </div>
                    <button id="btn-search"
                        onclick="testEndpoint('search', '/api/search', { keyword: document.getElementById('input-search-keyword').value, page: document.getElementById('input-search-page').value })"
                        class="btn-primary">
                        <i class="fa-solid fa-paper-plane"></i> Kirim Request
                    </button>
                    <div id="result-header-search"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-search"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Download All -->
            <div class="endpoint-card" style="border-color: rgba(239, 68, 68, 0.2);">
                <div class="p-5 flex items-center justify-between cursor-pointer"
                    onclick="toggleAccordion('download-all')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-red-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-download text-red-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge"
                                    style="background: rgba(239, 68, 68, 0.15); color: #f87171;">GET</span>
                                <h3 class="font-semibold text-red-400">Download All Chapters</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/download/:bookId</code>
                        </div>
                    </div>
                    <i id="arrow-download-all"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-download-all" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan seluruh episode drama dalam format JSON.</p>
                    <div class="input-wrapper mb-4">
                        <i class="input-icon fa-solid fa-book"></i>
                        <input type="text" id="input-download-all-bookId" value="41000122558"
                            placeholder="Masukkan Book ID..." class="input-modern">
                    </div>
                    <button id="btn-download-all"
                        onclick="testEndpoint('download-all', '/download/:bookId', { bookId: document.getElementById('input-download-all-bookId').value })"
                        class="btn-primary btn-danger">
                        <i class="fa-solid fa-download"></i> Download All
                    </button>
                    <div id="result-header-download-all"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-download-all"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- VIP -->
            <div class="endpoint-card" style="border-color: rgba(245, 158, 11, 0.2);">
                <div class="p-5 flex items-center justify-between cursor-pointer" onclick="toggleAccordion('vip')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-crown text-yellow-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge"
                                    style="background: rgba(245, 158, 11, 0.15); color: #fbbf24;">GET</span>
                                <h3 class="font-semibold text-yellow-400">VIP Channel</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/vip</code>
                        </div>
                    </div>
                    <i id="arrow-vip"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-vip" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan daftar drama dari channel VIP/Theater.</p>
                    <button id="btn-vip" onclick="testEndpoint('vip', '/api/vip', {})" class="btn-primary btn-warning">
                        <i class="fa-solid fa-crown"></i> Get VIP Data
                    </button>
                    <div id="result-header-vip"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-vip"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Home -->
            <div class="endpoint-card">
                <div class="p-5 flex items-center justify-between cursor-pointer" onclick="toggleAccordion('home')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-home text-blue-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge method-get">GET</span>
                                <h3 class="font-semibold">Drama Terbaru</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/home</code>
                        </div>
                    </div>
                    <i id="arrow-home"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-home" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan daftar drama terbaru di homepage.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-file"></i>
                            <input type="number" id="input-home-page" value="1" placeholder="Halaman"
                                class="input-modern">
                        </div>
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-list"></i>
                            <input type="number" id="input-home-size" value="10" placeholder="Jumlah per halaman"
                                class="input-modern">
                        </div>
                    </div>
                    <button id="btn-home"
                        onclick="testEndpoint('home', '/api/home', { page: document.getElementById('input-home-page').value, size: document.getElementById('input-home-size').value })"
                        class="btn-primary">
                        <i class="fa-solid fa-paper-plane"></i> Kirim Request
                    </button>
                    <div id="result-header-home"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-home"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Detail -->
            <div class="endpoint-card">
                <div class="p-5 flex items-center justify-between cursor-pointer" onclick="toggleAccordion('detail')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-purple-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-info-circle text-purple-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge method-get">GET</span>
                                <h3 class="font-semibold">Detail Drama</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/detail/:bookId/v2</code>
                        </div>
                    </div>
                    <i id="arrow-detail"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-detail" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan detail lengkap sebuah drama.</p>
                    <div class="input-wrapper mb-4">
                        <i class="input-icon fa-solid fa-book"></i>
                        <input type="text" id="input-detail-bookId" value="41000122558"
                            placeholder="Masukkan Book ID..." class="input-modern">
                    </div>
                    <button id="btn-detail"
                        onclick="testEndpoint('detail', '/api/detail/:bookId/v2', { bookId: document.getElementById('input-detail-bookId').value })"
                        class="btn-primary">
                        <i class="fa-solid fa-paper-plane"></i> Kirim Request
                    </button>
                    <div id="result-header-detail"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-detail"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Chapters -->
            <div class="endpoint-card">
                <div class="p-5 flex items-center justify-between cursor-pointer" onclick="toggleAccordion('chapters')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-indigo-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-list-ol text-indigo-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge method-get">GET</span>
                                <h3 class="font-semibold">Daftar Chapter</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/chapters/:bookId</code>
                        </div>
                    </div>
                    <i id="arrow-chapters"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-chapters" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan daftar semua chapter/episode sebuah drama.</p>
                    <div class="input-wrapper mb-4">
                        <i class="input-icon fa-solid fa-book"></i>
                        <input type="text" id="input-chapters-bookId" value="41000122558"
                            placeholder="Masukkan Book ID..." class="input-modern">
                    </div>
                    <button id="btn-chapters"
                        onclick="testEndpoint('chapters', '/api/chapters/:bookId', { bookId: document.getElementById('input-chapters-bookId').value })"
                        class="btn-primary">
                        <i class="fa-solid fa-paper-plane"></i> Kirim Request
                    </button>
                    <div id="result-header-chapters"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-chapters"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Stream -->
            <div class="endpoint-card" style="border-color: rgba(34, 197, 94, 0.2);">
                <div class="p-5 flex items-center justify-between cursor-pointer" onclick="toggleAccordion('stream')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-green-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-play-circle text-green-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge"
                                    style="background: rgba(34, 197, 94, 0.15); color: #4ade80;">GET</span>
                                <h3 class="font-semibold text-green-400">Stream URL</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/stream</code>
                        </div>
                    </div>
                    <i id="arrow-stream"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-stream" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan link streaming (m3u8/mp4) untuk episode tertentu.
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-book"></i>
                            <input type="text" id="input-stream-bookId" value="41000122558"
                                placeholder="Masukkan Book ID..." class="input-modern">
                        </div>
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-tv"></i>
                            <input type="number" id="input-stream-episode" value="1" placeholder="Episode"
                                class="input-modern">
                        </div>
                    </div>
                    <button id="btn-stream"
                        onclick="testEndpoint('stream', '/api/stream', { bookId: document.getElementById('input-stream-bookId').value, episode: document.getElementById('input-stream-episode').value })"
                        class="btn-primary btn-success">
                        <i class="fa-solid fa-play"></i> Get Stream URL
                    </button>
                    <div id="result-header-stream"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-stream"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Categories -->
            <div class="endpoint-card">
                <div class="p-5 flex items-center justify-between cursor-pointer"
                    onclick="toggleAccordion('categories')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-teal-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-tags text-teal-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge method-get">GET</span>
                                <h3 class="font-semibold">Daftar Kategori</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/categories</code>
                        </div>
                    </div>
                    <i id="arrow-categories"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-categories" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan daftar semua kategori drama.</p>
                    <button id="btn-categories" onclick="testEndpoint('categories', '/api/categories', {})"
                        class="btn-primary">
                        <i class="fa-solid fa-paper-plane"></i> Kirim Request
                    </button>
                    <div id="result-header-categories"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-categories"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Category by ID -->
            <div class="endpoint-card">
                <div class="p-5 flex items-center justify-between cursor-pointer" onclick="toggleAccordion('category')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-cyan-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-folder text-cyan-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge method-get">GET</span>
                                <h3 class="font-semibold">Drama per Kategori</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/category/:id</code>
                        </div>
                    </div>
                    <i id="arrow-category"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-category" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan drama berdasarkan kategori tertentu.</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-hashtag"></i>
                            <input type="number" id="input-category-id" value="449" placeholder="Category ID"
                                class="input-modern">
                        </div>
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-file"></i>
                            <input type="number" id="input-category-page" value="1" placeholder="Halaman"
                                class="input-modern">
                        </div>
                        <div class="input-wrapper">
                            <i class="input-icon fa-solid fa-list"></i>
                            <input type="number" id="input-category-size" value="10" placeholder="Per halaman"
                                class="input-modern">
                        </div>
                    </div>
                    <button id="btn-category"
                        onclick="testEndpoint('category', '/api/category/:id', { id: document.getElementById('input-category-id').value, page: document.getElementById('input-category-page').value, size: document.getElementById('input-category-size').value })"
                        class="btn-primary">
                        <i class="fa-solid fa-paper-plane"></i> Kirim Request
                    </button>
                    <div id="result-header-category"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-category"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

            <!-- Recommend -->
            <div class="endpoint-card">
                <div class="p-5 flex items-center justify-between cursor-pointer"
                    onclick="toggleAccordion('recommend')">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-pink-500/10 flex items-center justify-center">
                            <i class="fa-solid fa-star text-pink-400"></i>
                        </div>
                        <div>
                            <div class="flex items-center gap-2">
                                <span class="method-badge method-get">GET</span>
                                <h3 class="font-semibold">Rekomendasi</h3>
                            </div>
                            <code class="text-xs text-gray-500 mt-1">/api/recommend</code>
                        </div>
                    </div>
                    <i id="arrow-recommend"
                        class="fa-solid fa-chevron-right text-gray-500 transition-transform duration-200"></i>
                </div>
                <div id="content-recommend" class="hidden border-t border-white/5 p-5 bg-black/30">
                    <p class="text-sm text-gray-400 mb-4">Mendapatkan daftar drama rekomendasi.</p>
                    <button id="btn-recommend" onclick="testEndpoint('recommend', '/api/recommend', {})"
                        class="btn-primary">
                        <i class="fa-solid fa-paper-plane"></i> Kirim Request
                    </button>
                    <div id="result-header-recommend"
                        class="mt-4 hidden p-4 rounded-t-xl bg-white/5 border border-white/5 text-sm"></div>
                    <pre id="result-content-recommend"
                        class="hidden p-4 rounded-b-xl bg-black/50 border border-t-0 border-white/5 text-xs max-h-[300px] overflow-auto font-mono"></pre>
                </div>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-white/5 py-8 mt-16">
        <div class="max-w-6xl mx-auto px-6 text-center">
            <p class="text-gray-500 text-sm mb-2">Dramabox API v1.1.0</p>
            <p class="text-gray-600 text-xs mb-4">Developed by <span class="text-blue-400 font-medium">Handoko x Mari
                    Partner</span></p>
            <a href="https://api.whatsapp.com/send/?phone=6287780081554&text&type=phone_number&app_absent=0"
                target="_blank"
                class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-green-500/10 border border-green-500/20 text-green-400 text-sm hover:bg-green-500/20 transition">
                <i class="fa-brands fa-whatsapp"></i> Hubungi Kami
            </a>
        </div>
    </footer>

    <script>
        const baseUrl = window.location.origin;
        const currentLang = 'in';

        function initializePage() {
            const baseUrlDisplay = document.getElementById('baseUrlDisplay');
            if (baseUrlDisplay) baseUrlDisplay.textContent = baseUrl;
        }

        function toggleAccordion(id) {
            const content = document.getElementById(`content-${id}`);
            const arrow = document.getElementById(`arrow-${id}`);
            content.classList.toggle('hidden');
            arrow.classList.toggle('rotate-90');
        }

        // Store raw response data for copy/download
        let lastResponseData = {};

        function formatJson(json) {
            if (typeof json !== 'string') json = JSON.stringify(json, null, 2);
            return json;
        }

        function displayResult(id, data, error, timeMs) {
            const header = document.getElementById('result-header-' + id);
            const content = document.getElementById('result-content-' + id);
            header.classList.remove('hidden');
            content.classList.remove('hidden');

            if (error) {
                header.innerHTML = `<div class="flex justify-between items-center">
                    <span class="text-red-400 font-semibold"><i class="fa-solid fa-times-circle mr-2"></i>Error</span>
                    <span class="text-gray-500 text-xs">${timeMs.toFixed(0)}ms</span>
                </div>`;
                content.textContent = formatJson({ error });
                lastResponseData[id] = null;
            } else {
                lastResponseData[id] = data;
                header.innerHTML = `<div class="flex justify-between items-center">
                    <span class="text-green-400 font-semibold"><i class="fa-solid fa-check-circle mr-2"></i>Success</span>
                    <div class="flex items-center gap-2">
                        <span class="text-gray-500 text-xs">${timeMs.toFixed(0)}ms</span>
                        <button onclick="copyResponse('${id}')" class="px-3 py-1 rounded-lg bg-white/10 hover:bg-white/20 text-xs flex items-center gap-1 transition" title="Copy">
                            <i class="fa-solid fa-copy"></i> Copy
                        </button>
                        <button onclick="downloadResponse('${id}')" class="px-3 py-1 rounded-lg bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 text-xs flex items-center gap-1 transition" title="Download">
                            <i class="fa-solid fa-download"></i> TXT
                        </button>
                    </div>
                </div>`;
                content.textContent = formatJson(data);
            }
        }

        function copyResponse(id) {
            const data = lastResponseData[id];
            if (!data) return;
            const text = JSON.stringify(data, null, 2);
            navigator.clipboard.writeText(text).then(() => {
                showToast('Berhasil disalin ke clipboard!');
            }).catch(() => {
                showToast('Gagal menyalin', true);
            });
        }

        function downloadResponse(id) {
            const data = lastResponseData[id];
            if (!data) return;
            const text = JSON.stringify(data, null, 2);
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `response_${id}_${Date.now()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showToast('File berhasil diunduh!');
        }

        function showToast(message, isError = false) {
            const toast = document.createElement('div');
            toast.className = `fixed bottom-4 right-4 px-4 py-3 rounded-xl text-sm font-medium transition-all transform translate-y-0 opacity-100 z-50 ${isError ? 'bg-red-500 text-white' : 'bg-green-500 text-white'
                }`;
            toast.innerHTML = `<i class="fa-solid ${isError ? 'fa-times-circle' : 'fa-check-circle'} mr-2"></i>${message}`;
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateY(20px)';
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        async function testEndpoint(id, path, params = {}) {
            const btn = document.getElementById(`btn-${id}`);
            const header = document.getElementById('result-header-' + id);
            const content = document.getElementById('result-content-' + id);

            if (btn) btn.disabled = true;
            header.classList.remove('hidden');
            content.classList.add('hidden');
            header.innerHTML = '<span class="text-blue-400"><i class="fa-solid fa-spinner fa-spin mr-2"></i>Loading...</span>';

            const start = performance.now();
            let url = baseUrl + path;
            const query = [];

            for (const [key, val] of Object.entries(params)) {
                if (url.includes(`:${key}`)) {
                    url = url.replace(`:${key}`, val);
                } else if (val !== '') {
                    query.push(`${key}=${encodeURIComponent(val)}`);
                }
            }
            query.push(`lang=${currentLang}`);
            url += (url.includes('?') ? '&' : '?') + query.join('&');

            try {
                const res = await fetch(url);
                const data = await res.json();
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                displayResult(id, data, null, performance.now() - start);
            } catch (e) {
                displayResult(id, null, e.message, performance.now() - start);
            } finally {
                if (btn) btn.disabled = false;
            }
        }

        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>

</html>